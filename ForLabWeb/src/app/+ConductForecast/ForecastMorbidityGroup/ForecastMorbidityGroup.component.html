<div class="forecast-add-modal-header">
  <a type="button" class="close-button" (click)="onCloseModal()" aria-hidden="true">
  </a>
</div>
<div class="forecast-add-modal-body text-center">
  <span class="forecast-add-modal-title color-darkblue">WHAT PERCENTAGE OF THE PATIENTS IN THIS FORECAST ARE IN EACH OF
    THESE GROUPS</span>
  <form class="forecast-add-form" novalidate="novalidate" [formGroup]="groupForm">
    <div class="row">
      <div class="col-md-8 z-index-1">
        <div class="forecast-group-list" formArrayName="_patientgroup">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th data-class="expand">Patient Group</th>
                <th data-class="expand">Percentage Group</th>
                <th data-class="expand">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of groupForm.get('_patientgroup')['controls']; let i = index;" [formGroupName]="i">
                <td class="text-align-left">
                  {{item.getRawValue().PatientGroupName}}
                </td>
                <td>
                  <div class="left-inner-addon">
                    <span class="percent-icon">%</span>
                    <input type="number" class="form-control color-darkblue percent-type"
                      formControlName="PatientPercentage" (input)="calculatepatientratio($event.target.value,i)">
                  </div>
                </td>
                <td>
                  <a type="button" (click)="delproductprice(i)" class='del icon-trash'>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="forecast-group-add">
          <div class="row">
            <div class="col-md-7 add-group__input">
              <div class="form-group">
                <input type="text" class="form-control" #groupName name="groupName" placeholder="Group Name" />
              </div>
            </div>
            <div class="col-md-1 add-group__button">
              <button (click)="onCreateGroup(groupName.value)" class="btn btn-cyan add-group"
                [disabled]="loading">Add</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 group-status__charts">
        <div id="group-status"></div>
      </div>
    </div>
  </form>

  <div class="forecast-add-modal-footer">
    <div class="forecast-add-modal-footer__container">
      <button type="button" (click)="openPreviousModal()" class="btn btn-outline-cyan">Back</button>

      <div class="forecast-form-step">
        <div class="steps">
          <div class="progressbar-wrapper">
            <ul class="progressbar">
              <li class="passed"></li>
              <li class="passed"></li>
              <li class="passed"></li>
              <li class="passed"></li>
              <li class="passed"></li>
              <li class="passed"></li>
              <li class="passed"></li>
              <li class="passed"></li>
              <li class="passed"></li>
              <li class="passed"></li>
              <li class="active"></li>
              <li></li>
              <li></li>
            </ul>
          </div>
        </div>
      </div>

      <button (click)="openNextModal()" class="btn btn-cyan" [disabled]="loading">Next</button>
    </div>
  </div>
</div>
